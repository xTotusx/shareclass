{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="manifest" href="{% static 'accounts/manifest.json' %}">
  <meta name="theme-color" content="#185a9d">

  <title>{% block title %}ShareClass{% endblock %}</title>

  {% block styles %}

  {% endblock %}
</head>
<body>
  {% if user.is_authenticated %}
  <nav style="position:sticky;top:0;width:100%;padding:1rem 2rem;background:rgba(0,0,0,0.3);display:flex;justify-content:space-between;align-items:center;backdrop-filter:blur(5px);border-bottom:1px solid rgba(255,255,255,0.1);">
    <div class="logo">
      <a href="{% url 'home' %}"><img src="{% static 'accounts/shareclass_logo.jpeg' %}" alt="Logo" style="height:40px;"></a>
    </div>
    <ul style="list-style:none;display:flex;gap:1.5rem;margin:0;padding:0;">
      <li><a href="{% url 'home' %}" style="color:#fff;text-decoration:none;font-weight:bold;">Inicio</a></li>
      <li><a href="{% url 'perfil' %}" style="color:#fff;text-decoration:none;font-weight:bold;">Perfil</a></li>
      <li><a href="{% url 'logout' %}" style="color:#fff;text-decoration:none;font-weight:bold;">Cerrar sesi√≥n</a></li>
    </ul>
  </nav>
  {% endif %}

  {% block content %}{% endblock %}

  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register("{% static 'accounts/service-worker.js' %}")
          .then(registration => console.log('Service Worker registrado:', registration.scope))
          .catch(error => console.log('Error SW:', error));
      });
    }
  </script>
</body>
</html>
