{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>Inicio</title>
<link rel="stylesheet" href="{% static 'accounts/home.css' %}">
<link rel="manifest" href="{% static 'accounts/manifest.json' %}">
<meta name="theme-color" content="#185a9d">
</head>
<body>

  <!-- NAVBAR -->
  <nav>
    <div class="logo">
      <a href="#"><img src="{% static 'accounts/sh_logo.png' %}" alt="Logo"></a>
    </div>
    <ul>
      <li><a href="#inicio">Inicio</a></li>
      <li><a href="#libros">Libros</a></li>
      <li><a href="#dispositivos">Dispositivos</a></li>
      <li><a href="{% url 'perfil' %}">Perfil</a></li>
      <li><a href="{% url 'logout' %}">Cerrar sesi칩n</a></li>
    </ul>
  </nav>

  <!-- SECCI칍N 1: BIENVENIDA -->
  <section id="inicio" class="visible">
    <div class="welcome">
      <div class="welcome-text">
        <h1>Bienvenido, {{ user.username }} 游녦</h1>
        <p>Explora tus libros y dispositivos desde aqu칤.</p>
      </div>
      {% if user.profile.profile_image %}
        <img src="{% static 'accounts/' %}{{ user.profile.profile_image }}" alt="Avatar">
      {% endif %}
    </div>
  </section>

  <!-- SECCI칍N 2: LIBROS -->
  <section id="libros">
    <div class="glass-section">
      <h2>游닄 Libros</h2>
      <p>Gestiona tus libros, agr칠galos o edita su informaci칩n f치cilmente.</p>
      <a href="{% url 'libros_home' %}">Ir a Libros</a>
    </div>
  </section>

  <!-- SECCI칍N 3: DISPOSITIVOS -->
  <section id="dispositivos">
    <div class="glass-section">
      <h2>游눹 Dispositivos</h2>
      <p>Visualiza y gestiona los dispositivos conectados a tu cuenta.</p>
      <a href="#dispositivos">Ver dispositivos</a>
    </div>
  </section>

  <!-- ===== EFECTO DE SCROLL ===== -->
  <script>
    const sections = document.querySelectorAll("section");

    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add("visible");
        }
      });
    }, { threshold: 0.3 });

    sections.forEach(section => observer.observe(section));
  </script>
<script>
  // Crear banner din치mico
  const offlineBanner = document.createElement('div');
  offlineBanner.textContent = '丘멆잺 Est치s sin conexi칩n';
  offlineBanner.style.position = 'fixed';
  offlineBanner.style.bottom = '0';
  offlineBanner.style.left = '0';
  offlineBanner.style.width = '100%';
  offlineBanner.style.backgroundColor = '#ff4b4b';
  offlineBanner.style.color = 'white';
  offlineBanner.style.textAlign = 'center';
  offlineBanner.style.padding = '10px';
  offlineBanner.style.fontWeight = 'bold';
  offlineBanner.style.display = 'none';
  offlineBanner.style.zIndex = '9999';
  document.body.appendChild(offlineBanner);

  // Detectar cambios de conexi칩n
  function updateOnlineStatus() {
    if (navigator.onLine) {
      offlineBanner.style.display = 'none';
    } else {
      offlineBanner.style.display = 'block';
    }
  }

  window.addEventListener('online', updateOnlineStatus);
  window.addEventListener('offline', updateOnlineStatus);

  // Estado inicial
  updateOnlineStatus();
</script>

</body>
</html>
